<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Qow Register</title>
    <meta charset="utf-8">
	<!-- Javascript SDK-->
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script> 
  <script src="js/amazon-cognito-auth.min.js"></script>
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.7.16.min.js"></script> 
  <script src="js/amazon-cognito-identity.min.js"></script>  
  <script src="js/config.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/x-icon" href="./src/favicon.ico">
  </head>
    <body class="bg-gray-200 lg:text-base text-3xl">
		<!-- <h1 class="h3 mb-3 font-weight-normal" id="titleheader">Register an Account</h1> -->
        <section class="h-full gradient-form bg-gray-200 md:h-screen">
            <div class="container px-6 h-full">
              <div class="flex justify-center items-center flex-wrap h-full g-6 text-gray-800 w-screen lg:w-full pr-6 lg:pr-0">
                <div class="xl:w-10/12">
                  <div class="block bg-white shadow-lg rounded-lg">
                    <div class="lg:flex lg:flex-wrap g-0">
                      <div class="lg:w-6/12 px-4 md:px-0">
                        <div class="md:p-12 md:mx-6">
                          <div class="text-center">
                            <img
                              class="mx-auto w-48"
                              src="./src/logo.png"
                              alt="logo"
                            />
                            <h4 class="lg:text-xl text-4xl font-semibold mt-1 mb-12 pb-1">Qow</h4>
                          </div>
                          <form>
                            <p class="mb-4">Create Account</p>
                            <div class="mb-4">
                              <input
                                class="form-control block w-full px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
											type="personalname" id="personalnameRegister" placeholder="Name" pattern=".*" required
                              />
                            </div>

                            <div class="mb-4">
                                <input
                                  type="email"
                                  class="form-control block w-full px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                                  id="emailInputRegister" placeholder="Email" pattern=".*" required
                                />
                            </div>
                            <div class="mb-4">
                              <input
                                type="password"
                                class="form-control block w-full px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                                id="passwordInputRegister" placeholder="Password" pattern=".*" required
                              />
                            </div>

                            <div class="mb-4">
                                <input
                                  type="password"
                                  class="form-control block w-full px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                                  id="confirmationpassword" placeholder="Confirm Password" pattern=".*" required
                                />
                            </div>

                            <div class="text-center pt-1 mb-12 pb-1">
                              <button
                                class="inline-block px-6 py-2.5 text-white font-medium lg:text-xs text-xl leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg transition duration-150 ease-in-out w-full mb-3"
                                type="button" onclick="registerButton()"
                                data-mdb-ripple="true"
                                data-mdb-ripple-color="light"
                                style="
                                  background: linear-gradient(
                                    to right,
                                    #0f75ae,
                                    #1a9599,
                                    #25b484
                                  );
                                "
                              >
                                Sign Up
                              </button>
                            </div>
                            <div class="flex items-center justify-between pb-6">
                              <p class="mb-0 mr-2">Already have an account?</p>
                              <button
                                type="button"
                                class="inline-block px-6 py-2 border-2 border-blue-400 text-blue-400 font-medium lg:text-xs text-xl leading-tight uppercase rounded hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0 transition duration-150 ease-in-out"
                                data-mdb-ripple="true"
                                data-mdb-ripple-color="light">
                                <a href="./login.html" >Log In</a>
                              </button>
                            </div>
                          </form>
                        </div>
                      </div>
                      <div
                        class="lg:w-6/12 flex items-center lg:rounded-r-lg rounded-b-lg lg:rounded-bl-none"
                        style="
                          background: linear-gradient(to right, #0f75ae, #1a9599, #25b484);
                        "
                      >
                        <div class="text-white px-4 py-6 md:p-12 md:mx-6">
                          <h4 class="lg:text-xl text-3xl font-semibold mb-6">One step platform to predict if your cattle is suffering from the Lumpy virus.</h4>
                          <p class="lg:text-sm text-xl">
                            Lumpy skin disease virus is likely transmitted mechanically between cattle by biting insects, with the virus being perpetuated in a wildlife reservoir host.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

		  <!---

    <h1 class="h3 mb-3 font-weight-normal" id="titleheader">Register an Account</h1>
	
	<input type="personalnamename" class="form-control" id="personalnameRegister" placeholder="Name" pattern=".*" required>
    <input type="email" class="form-control" id="emailInputRegister" placeholder="Email" pattern=".*" required>
	<input type="password" class="form-control" id="passwordInputRegister" placeholder="Password" pattern=".*" required>
    <input type="password" class="form-control" id="confirmationpassword" placeholder="Confirm Password" pattern=".*" required>
	<button id="mainbutton" class="btn btn-lg btn-primary btn-block" type="button" onclick="registerButton()" >Register</button>

		  -->

	<script>

		var username;
		var password;
		var personalname;
		var poolData;
		//var phone ;
	  function registerButton() {
		
		personalnamename =  document.getElementById("personalnameRegister").value;	
		username = document.getElementById("emailInputRegister").value;
		//phone = document.getElementById("phoneNoRegister").value;
		if (document.getElementById("passwordInputRegister").value != document.getElementById("confirmationpassword").value) {
			alert("Passwords Do Not Match!")
			throw "Passwords Do Not Match!"
		} else {
			password =  document.getElementById("passwordInputRegister").value;	
		}
		
		poolData = {
				UserPoolId : _config.cognito.userPoolId, // Your user pool id here
				ClientId : _config.cognito.clientId // Your client id here
			};		
		var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);

		var attributeList = [];
		
		var dataEmail = {
			Name : 'email', 
			Value : username, //get from form field
		};
		
		var dataPersonalName = {
			Name : 'name', 
			Value : personalname, //get from form field
		};
		//var dataPhone={
         //Name: 'phoneno',
		 //Value : phone ,
		//};

		var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(dataEmail);
		var attributePersonalName = new AmazonCognitoIdentity.CognitoUserAttribute(dataPersonalName);
		//var attributePhone= new AmazonCognitoIdentity.CognitoUserAttribute(dataPhone);
		
		attributeList.push(attributeEmail);
		attributeList.push(attributePersonalName);
        //attributeList.push(attributePhone);
		userPool.signUp(username, password,attributeList, null, function(err, result){
			if (err) {
				alert(err.message || JSON.stringify(err));
				return;
			}
			cognitoUser = result.user;
			console.log('user name is ' + cognitoUser.getUsername());
			//change elements of page
			//document.getElementById("titleheader").innerHTML = "Check your email for a verification link";
      alert('Succesfully Updated');
      window.location.href="login";
      
		});
	  }

	</script>
 
 </body>
  
</html>








